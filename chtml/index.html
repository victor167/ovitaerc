<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CHTML</title>
</head>
<body>
    <script>
        /*var text = `body.main{
            div.left{
                input[type="text"]{}
                input[type="button"](Enviar){}
            }
            div.right{}
        }
        `;*/

        var text = `div.hola{}`;

        function render(html){
            var all_identities = [
                {
                    name: 'element',
                    parts: [
                        {r:/^([a-z]||[a-z]{1}[a-z0-9]+)$/, message:''}
                    ],
                    match: /^[a-z]+$/
                },
                {
                    name: 'class',
                    parts: [
                        {r: /^\./, message: 'Se esperaba un punto, para declarar una clase'},
                        {r: /^([a-z]||[a-z]{1}[a-z0-9]+)$/, message: 'Se esperaba una letra, para nombrar una clase'},
                    ],
                    match: /^\.[a-z]*$/
                },
                {
                    name: 'attr',
                    parts: [
                        {r: /\[/,message: 'Se esperaba un corchete para aperturar un atributo'}
                    ]
                }
            ];

            var identities  = [];
            var identity    = '';
            var armer       = '';
            var r           = html.split("");

            for(var i=0;i<r.length;i++){
                for(var j=0;j<all_identities.length;j++){
                    var result = r[i].match(all_identities[j].parts[0]);
                    if(result!==null && identity===''){
                        identity    =   all_identities[j].name;
                        identities.push(identity);
                        console.log(all_identities[j].name,result);
                    }
                }
            }
        }

        render(text);
    </script>
</body>
</html>